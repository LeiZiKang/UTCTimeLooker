# UTC Time Looker 需求文档

## 项目概述

UTC Time Looker 是一个 macOS 桌面小工具，用于将 UTC 时间字符串转换为多个时区的本地时间显示。

## 核心功能需求

### 1. UTC 时间输入
- **功能描述**: 用户可以输入 UTC 时间字符串
- **输入格式支持**:
  - ISO 8601 格式: `2025-07-28T14:30:00Z`
  - 简化格式: `2025-07-28 14:30:00`
  - 时间戳格式: `1722177000` (Unix timestamp)
- **输入验证**: 自动验证输入格式的正确性，显示错误提示

### 2. 当前时区显示
- **功能描述**: 自动检测系统当前时区，将 UTC 时间转换并显示
- **显示内容**:
  - 转换后的本地时间
  - 时区名称 (例如: "Asia/Shanghai", "America/New_York")
  - 与 UTC 的时差 (例如: "+08:00", "-05:00")

### 3. 多时区对比显示
- **预设时区列表**:
  - 🇨🇳 中国大陆 (Asia/Shanghai, UTC+8)
  - 🇭🇰 香港 (Asia/Hong_Kong, UTC+8) 
  - 🇺🇸 美国东部 (America/New_York, UTC-5/-4)
  - 🇺🇸 美国西部 (America/Los_Angeles, UTC-8/-7)
  - 🇬🇧 英国 (Europe/London, UTC+0/+1)
  - 🇯🇵 日本 (Asia/Tokyo, UTC+9)

### 4. 实时更新
- **功能描述**: 当用户修改 UTC 时间输入时，所有时区显示实时更新
- **响应性**: 输入变化后立即更新，无需点击按钮

## 用户界面需求

### 1. 主界面布局
```
┌─────────────────────────────────────┐
│           UTC Time Looker           │
├─────────────────────────────────────┤
│ UTC Time Input:                     │
│ [2025-07-28T14:30:00Z        ] 🔄   │
├─────────────────────────────────────┤
│ 📍 Current Time Zone               │
│ Asia/Shanghai (+08:00)              │
│ 2025-07-28 22:30:00                 │
├─────────────────────────────────────┤
│ 🌍 Other Time Zones                │
│ 🇨🇳 China      22:30:00 (+08:00)    │
│ 🇭🇰 Hong Kong  22:30:00 (+08:00)    │
│ 🇺🇸 US East    10:30:00 (-04:00)    │
│ 🇺🇸 US West    07:30:00 (-07:00)    │
│ 🇬🇧 UK         15:30:00 (+01:00)    │
│ 🇯🇵 Japan      23:30:00 (+09:00)    │
└─────────────────────────────────────┘
```

### 2. 界面元素
- **输入框**: 支持文本输入，显示占位符提示
- **刷新按钮**: 可选的手动刷新功能
- **时区卡片**: 每个时区独立显示，包含国旗、时区名、时间和时差
- **错误提示**: 输入格式错误时的友好提示信息

## 技术需求

### 1. 时间处理
- 使用 Swift 的 `DateFormatter` 和 `TimeZone` 类
- 支持夏令时自动调整
- 处理闰秒和时区变更

### 2. 用户体验
- **响应速度**: 输入响应时间 < 100ms
- **内存占用**: 保持低内存占用，适合常驻后台
- **界面刷新**: 流畅的动画过渡效果

### 3. 数据持久化
- 记住用户最后输入的 UTC 时间
- 保存用户的时区偏好设置

## 扩展功能 (可选)

### 1. 自定义时区
- 允许用户添加或移除显示的时区
- 时区搜索和选择功能

### 2. 快捷操作
- 复制时间到剪贴板
- 从剪贴板粘贴 UTC 时间
- 键盘快捷键支持

### 3. 时间格式选项
- 12/24 小时制切换
- 自定义日期时间显示格式
- 本地化支持

### 4. 历史记录
- 保存最近转换的时间记录
- 快速重新加载历史输入

## 技术约束

- **平台**: macOS 15.5+
- **开发语言**: Swift 5.0
- **UI 框架**: SwiftUI
- **最小窗口尺寸**: 400x500 pixels
- **内存限制**: < 50MB RAM 使用

## 验收标准

1. ✅ 能够正确解析常见的 UTC 时间格式
2. ✅ 准确显示当前系统时区的对应时间
3. ✅ 正确计算并显示所有预设时区的时间
4. ✅ 界面响应流畅，无明显延迟
5. ✅ 错误输入时显示友好的提示信息
6. ✅ 支持复制粘贴操作
7. ✅ 应用启动速度 < 2 秒